# ==== GLOBAL FALLBACKS (UNIVERSAL) ====
APP_ENV=development            # development|staging|production
APP_LOCALE=en-IN               # default locale
APP_PLATFORM=web               # web|mobile

# ==== OPENAI MODEL DEFAULTS (PLAIN TEXT PIPELINE) ====
OPENAI_MODEL_DEV=gpt-4o-mini
OPENAI_TEMPERATURE=0.2
OPENAI_TOP_P=0.9
OPENAI_MAX_OUTPUT_TOKENS=4096

# ==== THREAD STORAGE (UNIVERSAL CONTRACT) ====
THREAD_STORAGE_MODE=persistent
THREAD_TTL_POLICY=archive
THREAD_EXPIRY_DAYS=30
THREAD_DELETION_POLICY=soft

# Reuse threads by (user_id, assistant_id)
THREAD_LOOKUP_KEY=user_id,assistant_id

# Message persistence (plain text only)
THREAD_MESSAGE_MODE=plain_text
THREAD_MESSAGE_TABLE=thread_messages
THREAD_MESSAGE_FIELDS=user_id,thread_id,role,content,timestamp,source

# Ads, dedupe, astro & formatting features
THREAD_FEATURES=ads,dedupe,astro,charts,tables,images,quotes
THREAD_AD_HOOK_WINDOW=3          # suppress duplicate ads for 3 turns

# Voice intake
THREAD_VOICE_SOURCE=whisper

# Universal control markers (comma-separated; app parses these)
ASSISTANT_MARKERS=OUTPUT_1,OUTPUT_2,OPTIONS,FINAL_OUTCOME,TABLE_SPEC,CHART_SPEC,IMAGE_PROMPT,QUOTE,ASTRO,FOCUS_ALERT,AD_HOOK
ASSISTANT_HANDSHAKES=DEDUPE_CHECK,DEDUPE_EXISTS

# ==== MULTI-TENANT DEFAULTS ====
TENANT_DEFAULT=public
TENANT_FEATURE_FLAGS=ads:true,astro:true,feedback:true
